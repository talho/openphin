/*
 Dominoes v.1.0 (rc2) [2/3/10 01:04:06.934 - CET]
 Copyright 2010, Julian Aubourg
 Dual licensed under the MIT and GPL Version 2 licenses
*/
(function(F,s,r,i,G,z,O){F[O]||function(Y,ja,o,Z,w,$,H,P,l,A,I,J,p,B,u){function Q(a,c){throw[O,a,c].join(": ");}function m(){v(C[o](arguments,0),{},{},R);return m}function R(){}function D(a,c){setTimeout(function(){a[z](c||F,C[o](arguments,2))},0);return m}function ka(){for(var a=[],c;x[l];){c=x.shift();try{c[0][z](C[o](c,1))!==i&&a[p](c)}catch(b){}}x=a;x[l]||clearInterval(aa)}function ba(){for(;S[l];){args=S.shift();args[0][z](s,C[o](args,1))}K=i}function ca(){if((!s[B]||s[B]==="complete")&&s.body){da=
K=r;D(ba);return i}}function la(a){if(E(a)){S[p](arguments);if(ea){if(da&&!K){K=r;ba()}}else{ea=r;ca()||fa(ca)}}return i}function T(a){var c={};return function(b,d){var f=arguments[l];if(f>1)if(d===i)c[b]&&delete c[b];else if(a)a[z](c,arguments);else c[b]=d;else if(b===i)c={};else if(f)return c[b];return m}}function v(a,c,b,d){var f,e;if(a){if(a.O&&d){d();d=R}if(a[Z]){c=a;a=a[Z]}if(a[u])f=a[u];else if(t(a))f=a;if(f){f=L(f,c,b);if(t(f)){if(t(a))a={url:f};else a[u]=f;ma(a,d)}else v(f,c,b,d)}else if(E(a))a[o](c,
d,b)!==i&&d();else if(na(a)&&(e=a[l]))if(a.P){f=0;for(var h=e;f<e;)v(a[f++],c,b,function(){--h||d()})}else{function g(j){j<e?v(a[j++],c,b,function(){g(j)}):d()}g(0)}else d()}else d()}function oa(a){a=a.split(U);var c=0,b=a[l],d=[],f=[],e=f,h,g;for(e.P=r;c<b;c++)if(g=a[c])if(V[g]){g=V[g];if(g===1||g===2){g===2&&e[p](la);if(e[l]){h=e.splice(0,e[l]);h.P=e.P;e[p](h,[]);e.P=i;e=e[1];e.P=r}}else if(g===3||g===5){h=[];e[p](h);d[p](e);e=h;e.P=r;e.O=g===5}else if(g===4||g===6)if(d[l])e=d.pop();else Q("unexpected symbol",
a[c])}else e[p](g);return f}function pa(a,c,b){function d(k){return(j=/^ { ([0-9]+) } $/.exec(k))?h[1*j[1]]:k.replace(/ { ([0-9]+) } /g,function(q,n){j=h[1*n];t(j)||Q("type mismatch","string expected");return j})}for(var f,e,h={},g=0,j;!f;){f=r;a=a.replace(/\$([^$()]*)\(([^$()]*)\)/g,function(k,q,n){f=i;if(q&&!(e=ga[q]||M(q)))Q("unknown functor",q);n=d(n);if(t(n))n=L(n,c,b);h[++g]=q?e[o](c,n,b):qa(n);if(t(h[g]))h[g]=L(h[g],c,b);return" { "+g+" } "})}return d(a)}function L(a,c,b){var d;return d=U.test(a)?
oa(a):(d=c[a]||ra(a))?t(d)?L(d,c,b):d:pa(a,c,b)}function W(a){var c={},b={};return function(d,f){var e={},h,g=d[u],j;if(d[ja]===i){for(j in d)e[j]=d[j];d=e;d[u]+=(/\?/.test(g)?"&":"?")+"_="+(new Date).getTime();a(d,f)}else if(c[g])f();else if(h=b[g])h[p](f);else{b[g]=h=[f];a(d,function(){for(;h[l];)h.shift()();delete b[g];c[g]=r})}}}function sa(a){var c={},b=i;return W(function(d,f){c[d[u]]=f;if(!b){b=r;D(function(){var e=[],h,g=c;c={};b=i;for(h in g)e[p](h);v(a(e),{},{},function(){for(h in g)g[h]()})})}})}
m.run=m;var N=s[H]("head")[0]||s.documentElement,ta={}.toString,C=[].slice,ha=/loaded|complete/,y;m.later=D;for(y in{Array:1,Function:1,String:1})(function(a,c){c="[object "+a+"]";m["is"+a]=function(b){return ta[o](b)===c}})(y);var na=m.isArray,E=m.isFunction,t=m.isString,aa,x=[],fa=m.poll=function(a){if(E(a)){x[l]||(aa=setInterval(ka,13));x[p](arguments)}return m},S=[],ea=i,da=i,K=i,qa=m.property=T(),ga={},M=m.functor=T(function(a,c){if(a=/^([^$()]+)(?:\(([|SOF+]*)\))?$/.exec(a))if(E(c)){var b=this,
d=a[1];b=b[d]=b[d]||function(g,j){var k=g,q=this;if(k)if(e[J]&&t(k)){if(e[J]!==h){h=e[J];f=sa(h)}k=function(n){f({url:g},n);return i}}else if(t(k)&&(e.S||e.O))if(e.S)k=e.S[o](q,k,j);else{if(e.O)k=e.O[o](q,{url:k},j)}else if(k.url&&e.O)k=e.O[o](q,k,j);else if(e.F)k=e.F[o](q,E(k)?k:function(n,ua){v(g,this,ua,n);return i},j);return k};var f=b.A,e=b.S=b.S||{},h=e[J];a=(a[2]||"F|S|O").split(/\|/);for(b=a[l];b--;)e[a[b]]=c}}),ra=m.rule=T(function(a){var c=this,b=i,d=[];c=c[a]=c[a]||function(e,h){e&&e!==
R&&d[p](e);if(!b){b=r;var g=this;(function j(){if(f[l])v(f.splice(0,f[l]),g,h,j);else if(d[l]){for(;d[l];)d.shift()();j()}else b=i})()}return i};var f=c.A=c.A||[];f[p](C[o](arguments,1))}),U=/\s+/,V={};H="0 > >| ( ) (( ))".split(U);for(y=H[l];--y;V[H[y]]=y);var ma=W(function(a,c){var b=s[$]("script"),d;b[Y]=Y;if(a[w])b[w]=a[w];b.src=a[u];b[A]=b[I]=function(){if(!(d=b[B])||ha.test(d)){b[A]=b[I]=G;N.removeChild(b);c&&D(c)}};N.insertBefore(b,N.firstChild)}),ia=0,X={},va=function(){for(var a,c,b=s.styleSheets,
d,f=b[l];f--;){c=b[f];if((d=c[P])&&(a=X[d]))try{a.r=c.cssRules;throw"SECURITY";}catch(e){if(/SECURITY/.test(e)){D(a);delete X[d];if(!--ia)return i}}}},wa=function(a,c){if(a[B])a[I]=function(){if(ha.test(a[B])){a[I]=G;c()}};else if(a[A]===G&&a.all)a[A]=function(){a[A]=G;c()};else{X[a[P]]=c;ia++||fa(va)}};(function(a,c,b){M(a+"("+c+")",function(d){return function(f){b(d,f);return i}});ga[a]=M(a);M(a,i)})("css","O",W(function(a,c){var b=s[$]("link"),d=a.title;b.rel="stylesheet";b.type="text/css";b.media=
a.media||"screen";b[P]=a[u];if(a[w])b[w]=a[w];wa(b,function(){if(d)b.title=d;c()});N.appendChild(b)}));F[O]=m}[z](F,"async cache call chain charset createElement getElementsByTagName href length onload onreadystatechange + push readyState url".split(" "))})(window,document,true,false,null,"apply","dominoes");
