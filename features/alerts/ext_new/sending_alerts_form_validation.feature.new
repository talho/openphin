Scenario: Send alert form should perform client side validation
    Given the following users exist:
      | John Smith      | john.smith@example.com   | Health Alert and Communications Coordinator | Dallas County |
    And the role "Health Alert and Communications Coordinator" is an alerter
    And I am logged in as "john.smith@example.com"
    When I go to the ext dashboard page
    And I navigate to "HAN > Send an Alert"

    When I click breadCrumbItem "Audience"
    Then I should have the "Details" breadcrumb selected
    And the following fields should be invalid:
      | Title                 |
      | Jurisdiction          |
      | Communication Methods |

    When I fill in "Title" with "This is a test title to pass validation"
    And I check "E-mail"
    And I check "SMS"
    And I select "Dallas County" from ext combo "Jurisdiction"
    And I click breadCrumbItem "Audience"
    Then I should have the "Details" breadcrumb selected
    And the following fields should be invalid:
      | Message       |
      | Short Message |
      | Caller ID     |

    When I fill in "Message" with "This is a test message to pass validation"
    And I fill in "Short Message" with "This is a test short message to pass validation"
    And I fill in "Caller ID" with "4114114111"
    And I click breadCrumbItem "Audience"
    Then I should have the "Audience" breadcrumb selected

    When I override alert
    And I click breadCrumbItem "Preview"
    Then I should see "Please select at least one user, jurisdiction, role, or group to send this alert to." within the alert box

    When I click breadCrumbItem "Details"
    And I click breadCrumbItem "Preview"
    Then I should see "Please select at least one user, jurisdiction, role, or group to send this alert to." within the alert box
    And I should have the "Audience" breadcrumb selected

    And I select the following in the audience panel:
      | name           | type         |
      | Dallas County  | Jurisdiction |
    And I click breadCrumbItem "Preview"
    Then I should have the "Preview" breadcrumb selected
    And I should see "This is a test title to pass validation"